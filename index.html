<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ebook Sant√© - Guide Perte de Poids | Boutique Compl√®te avec PayPal</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://www.paypal.com/sdk/js?client-id=AaJD0YJ_jYZjEjrftRhgD4JnDZLob1V0hUlW5qXhGMXxLiTN7Lo4WhfSvT_0bV6dkvTpMG8Em25vf-d0&currency=EUR"></script>
    <style>
        /* ===== VARIABLES & RESET ===== */
        :root {
            /* Light theme */
            --primary: #10b981;
            --primary-dark: #059669;
            --primary-light: #d1fae5;
            --secondary: #3b82f6;
            --secondary-light: #dbeafe;
            --accent: #8b5cf6;
            --accent2: #f59e0b;
            --text-dark: #1f2937;
            --text-light: #6b7280;
            --bg-light: #f9fafb;
            --bg-white: #ffffff;
            --bg-dark: #111827;
            --bg-card: #ffffff;
            --border: #e5e7eb;
            --border-dark: #374151;
            --success: #10b981;
            --warning: #f59e0b;
            --error: #ef4444;
            --info: #3b82f6;
            --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
            --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1);
            --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1);
            --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1);
            --radius: 12px;
            --transition: all 0.3s ease;
        }

        .dark-mode {
            /* Dark theme */
            --primary: #34d399;
            --primary-dark: #10b981;
            --primary-light: #065f46;
            --secondary: #60a5fa;
            --secondary-light: #1e3a8a;
            --accent: #a78bfa;
            --accent2: #fbbf24;
            --text-dark: #f9fafb;
            --text-light: #d1d5db;
            --bg-light: #111827;
            --bg-white: #1f2937;
            --bg-card: #374151;
            --border: #4b5563;
            --border-dark: #6b7280;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            line-height: 1.6;
            color: var(--text-dark);
            background-color: var(--bg-light);
            transition: var(--transition);
            overflow-x: hidden;
        }

        /* ===== UTILITY CLASSES ===== */
        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1.5rem;
        }

        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 0.75rem 1.5rem;
            border-radius: var(--radius);
            font-weight: 600;
            text-decoration: none;
            border: none;
            cursor: pointer;
            transition: var(--transition);
            gap: 0.5rem;
        }

        .btn-primary {
            background-color: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background-color: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        .btn-secondary {
            background-color: var(--secondary);
            color: white;
        }

        .btn-accent {
            background-color: var(--accent);
            color: white;
        }

        .btn-outline {
            background-color: transparent;
            color: var(--primary);
            border: 2px solid var(--primary);
        }

        .btn-outline:hover {
            background-color: var(--primary-light);
        }

        .btn-large {
            padding: 1rem 2rem;
            font-size: 1.125rem;
        }

        .card {
            background-color: var(--bg-card);
            border-radius: var(--radius);
            box-shadow: var(--shadow-sm);
            border: 1px solid var(--border);
            transition: var(--transition);
            opacity: 1;
            transform: translateY(0);
        }

        .card:hover {
            box-shadow: var(--shadow-lg);
            transform: translateY(-4px);
        }

        .section-title {
            font-size: 2.5rem;
            font-weight: 700;
            text-align: center;
            margin-bottom: 3rem;
            color: var(--text-dark);
        }

        .badge {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 50px;
            font-size: 0.875rem;
            font-weight: 600;
        }

        .badge-primary {
            background-color: var(--primary-light);
            color: var(--primary);
        }

        .badge-success {
            background-color: #d1fae5;
            color: #059669;
        }

        .badge-warning {
            background-color: #fef3c7;
            color: #d97706;
        }

        .badge-accent {
            background-color: #ede9fe;
            color: var(--accent);
        }

        /* ===== HEADER & NAVIGATION ===== */
        header {
            background-color: var(--bg-white);
            box-shadow: var(--shadow-sm);
            position: sticky;
            top: 0;
            z-index: 1000;
            border-bottom: 1px solid var(--border);
            transition: var(--transition);
        }

        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 0;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary);
            text-decoration: none;
        }

        .nav-links {
            display: flex;
            gap: 2rem;
            align-items: center;
        }

        .nav-link {
            text-decoration: none;
            color: var(--text-light);
            font-weight: 500;
            transition: var(--transition);
            padding: 0.5rem 0;
            position: relative;
        }

        .nav-link:hover {
            color: var(--primary);
        }

        .nav-link.active {
            color: var(--primary);
        }

        .nav-link.active::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 2px;
            background-color: var(--primary);
        }

        .nav-actions {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .cart-btn {
            position: relative;
            background: none;
            border: none;
            font-size: 1.25rem;
            color: var(--text-dark);
            cursor: pointer;
            padding: 0.5rem;
        }

        .cart-count {
            position: absolute;
            top: -5px;
            right: -5px;
            background-color: var(--error);
            color: white;
            font-size: 0.75rem;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .theme-toggle {
            background: none;
            border: none;
            font-size: 1.25rem;
            color: var(--text-dark);
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 50%;
            background-color: var(--bg-light);
        }

        .user-menu {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: var(--primary-light);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary);
            font-weight: 600;
            cursor: pointer;
        }

        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            font-size: 1.5rem;
            color: var(--text-dark);
            cursor: pointer;
        }

        /* ===== NOTIFICATION BELL ===== */
        .notification-btn {
            position: relative;
            background: none;
            border: none;
            font-size: 1.25rem;
            color: var(--text-dark);
            cursor: pointer;
            padding: 0.5rem;
        }

        .notification-badge {
            position: absolute;
            top: -2px;
            right: -2px;
            background-color: var(--error);
            color: white;
            font-size: 0.625rem;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* ===== PROMO BANNER ===== */
        .promo-banner {
            background: linear-gradient(135deg, var(--primary) 0%, var(--accent) 100%);
            color: white;
            padding: 0.75rem 0;
            text-align: center;
            font-weight: 600;
        }

        .countdown {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-top: 0.5rem;
        }

        .countdown-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            background-color: rgba(255, 255, 255, 0.2);
            padding: 0.5rem;
            border-radius: 8px;
            min-width: 50px;
        }

        .countdown-value {
            font-size: 1.5rem;
            font-weight: 700;
        }

        .countdown-label {
            font-size: 0.75rem;
            opacity: 0.9;
        }

        /* ===== HERO SECTION ===== */
        .hero {
            padding: 5rem 0;
            background: linear-gradient(135deg, var(--primary-light) 0%, transparent 100%);
        }

        .hero-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4rem;
            align-items: center;
        }

        .hero-text h1 {
            font-size: 3.5rem;
            font-weight: 800;
            line-height: 1.2;
            margin-bottom: 1.5rem;
            color: var(--text-dark);
        }

        .hero-text p {
            font-size: 1.25rem;
            color: var(--text-light);
            margin-bottom: 2rem;
        }

        .price-tag {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .price {
            font-size: 3rem;
            font-weight: 700;
            color: var(--primary);
        }

        .original-price {
            font-size: 1.5rem;
            color: var(--text-light);
            text-decoration: line-through;
        }

        .stats {
            display: flex;
            gap: 2rem;
            margin-top: 2rem;
            flex-wrap: wrap;
        }

        .stat-item {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary);
        }

        .stat-label {
            font-size: 0.875rem;
            color: var(--text-light);
        }

        .hero-image {
            position: relative;
        }

        .hero-image img {
            width: 100%;
            border-radius: var(--radius);
            box-shadow: var(--shadow-lg);
            transform: rotate(3deg);
            transition: var(--transition);
        }

        .hero-image img:hover {
            transform: rotate(0deg);
        }

        .floating-badge {
            position: absolute;
            top: -10px;
            right: -10px;
            background-color: var(--accent);
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 50px;
            font-weight: 600;
            box-shadow: var(--shadow-md);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        /* ===== COUPON SECTION ===== */
        .coupon-section {
            padding: 2rem 0;
            background: linear-gradient(135deg, var(--accent2) 0%, #f97316 100%);
            color: white;
        }

        .coupon-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .coupon-code {
            background-color: white;
            color: var(--text-dark);
            padding: 0.75rem 1.5rem;
            border-radius: var(--radius);
            font-weight: 700;
            font-size: 1.25rem;
            letter-spacing: 1px;
            border: 2px dashed var(--primary);
            cursor: pointer;
            user-select: all;
        }

        .coupon-input {
            flex: 1;
            max-width: 300px;
            padding: 0.75rem 1rem;
            border: 2px solid white;
            border-radius: var(--radius);
            background-color: transparent;
            color: white;
            font-size: 1rem;
        }

        .coupon-input::placeholder {
            color: rgba(255, 255, 255, 0.7);
        }

        /* ===== QUIZ SECTION ===== */
        .quiz-section {
            padding: 5rem 0;
            background-color: var(--bg-white);
        }

        .quiz-container {
            max-width: 800px;
            margin: 0 auto;
        }

        .quiz-step {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .quiz-step.active {
            display: block;
        }

        .quiz-question {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 2rem;
            color: var(--text-dark);
        }

        .quiz-options {
            display: grid;
            gap: 1rem;
        }

        .quiz-option {
            padding: 1.5rem;
            border: 2px solid var(--border);
            border-radius: var(--radius);
            cursor: pointer;
            transition: var(--transition);
        }

        .quiz-option:hover {
            border-color: var(--primary);
            background-color: var(--primary-light);
        }

        .quiz-option.selected {
            border-color: var(--primary);
            background-color: var(--primary-light);
        }

        .quiz-navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 2rem;
        }

        .quiz-progress {
            height: 6px;
            background-color: var(--border);
            border-radius: 3px;
            margin-top: 2rem;
            overflow: hidden;
        }

        .quiz-progress-fill {
            height: 100%;
            background-color: var(--primary);
            border-radius: 3px;
            transition: width 0.5s ease;
        }

        /* ===== RATING SECTION ===== */
        .rating-section {
            padding: 2rem 0;
            background-color: var(--bg-white);
            border-top: 1px solid var(--border);
            border-bottom: 1px solid var(--border);
        }

        .rating-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 2rem;
            flex-wrap: wrap;
        }

        .average-rating {
            text-align: center;
        }

        .rating-value {
            font-size: 3rem;
            font-weight: 700;
            color: var(--primary);
        }

        .stars {
            color: #fbbf24;
            font-size: 1.5rem;
            margin: 0.5rem 0;
        }

        .rating-count {
            color: var(--text-light);
        }

        .rating-bars {
            flex: 1;
            max-width: 400px;
        }

        .rating-bar {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 0.5rem;
        }

        .bar-container {
            flex: 1;
            height: 8px;
            background-color: var(--border);
            border-radius: 4px;
            overflow: hidden;
        }

        .bar-fill {
            height: 100%;
            background-color: #fbbf24;
            border-radius: 4px;
        }

        /* ===== FEATURES SECTION ===== */
        .features {
            padding: 5rem 0;
            background-color: var(--bg-white);
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }

        .feature-card {
            padding: 2rem;
            text-align: center;
        }

        .feature-icon {
            width: 64px;
            height: 64px;
            background-color: var(--primary-light);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1.5rem;
            color: var(--primary);
            font-size: 1.5rem;
        }

        .feature-card h3 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: var(--text-dark);
        }

        /* ===== USER DASHBOARD ===== */
        .dashboard-section {
            padding: 5rem 0;
            background-color: var(--bg-light);
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 2rem;
        }

        .dashboard-sidebar {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .dashboard-nav {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .dashboard-nav-item {
            padding: 1rem;
            border-radius: var(--radius);
            color: var(--text-light);
            text-decoration: none;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 0.75rem;
            cursor: pointer;
        }

        .dashboard-nav-item:hover,
        .dashboard-nav-item.active {
            background-color: var(--primary-light);
            color: var(--primary);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .stat-card {
            padding: 1.5rem;
            text-align: center;
        }

        .stat-card .stat-value {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }

        .chart-container {
            height: 300px;
            background-color: var(--bg-card);
            border-radius: var(--radius);
            padding: 1.5rem;
            margin-bottom: 2rem;
        }

        .goals-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
        }

        .goal-card {
            padding: 1.5rem;
        }

        .goal-progress {
            height: 8px;
            background-color: var(--border);
            border-radius: 4px;
            margin: 1rem 0;
            overflow: hidden;
        }

        .goal-progress-fill {
            height: 100%;
            background-color: var(--primary);
            border-radius: 4px;
        }

        /* ===== LOYALTY PROGRAM ===== */
        .loyalty-section {
            padding: 5rem 0;
            background-color: var(--bg-white);
        }

        .loyalty-card {
            padding: 2rem;
            text-align: center;
            background: linear-gradient(135deg, var(--primary) 0%, var(--accent) 100%);
            color: white;
            border-radius: var(--radius);
        }

        .points-display {
            font-size: 4rem;
            font-weight: 700;
            margin: 1rem 0;
        }

        .loyalty-benefits {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }

        .benefit-card {
            padding: 1.5rem;
            text-align: center;
        }

        /* ===== REFERRAL SYSTEM ===== */
        .referral-section {
            padding: 5rem 0;
            background-color: var(--bg-light);
        }

        .referral-card {
            padding: 2rem;
            text-align: center;
        }

        .referral-link {
            display: flex;
            gap: 0.5rem;
            margin: 1.5rem 0;
        }

        .referral-link input {
            flex: 1;
            padding: 0.75rem 1rem;
            border: 1px solid var(--border);
            border-radius: var(--radius);
            background-color: var(--bg-white);
            color: var(--text-dark);
        }

        .referral-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }

        /* ===== CALENDAR SECTION ===== */
        .calendar-section {
            padding: 5rem 0;
            background-color: var(--bg-white);
        }

        .calendar-container {
            max-width: 800px;
            margin: 0 auto;
        }

        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 0.5rem;
        }

        .calendar-day {
            padding: 1rem;
            text-align: center;
            border-radius: var(--radius);
            cursor: pointer;
            transition: var(--transition);
        }

        .calendar-day:hover {
            background-color: var(--primary-light);
        }

        .calendar-day.active {
            background-color: var(--primary);
            color: white;
        }

        .calendar-day.completed {
            background-color: var(--success);
            color: white;
        }

        /* ===== PROGRESS SECTION ===== */
        .progress-section {
            padding: 3rem 0;
            background-color: var(--bg-white);
        }

        .progress-container {
            max-width: 600px;
            margin: 0 auto;
        }

        .progress-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
        }

        .progress-bar {
            height: 10px;
            background-color: var(--border);
            border-radius: 5px;
            overflow: hidden;
            margin-bottom: 2rem;
        }

        .progress-fill {
            height: 100%;
            background-color: var(--primary);
            border-radius: 5px;
            transition: width 1s ease;
        }

        .progress-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            text-align: center;
        }

        /* ===== MODALS ===== */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 2000;
            align-items: center;
            justify-content: center;
            padding: 1rem;
        }

        .modal.active {
            display: flex;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .modal-content {
            background-color: var(--bg-white);
            border-radius: var(--radius);
            width: 100%;
            max-width: 500px;
            max-height: 90vh;
            overflow-y: auto;
            animation: slideUp 0.3s ease;
        }

        @keyframes slideUp {
            from { transform: translateY(50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .modal-header {
            padding: 1.5rem;
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-body {
            padding: 1.5rem;
        }

        .close-modal {
            background: none;
            border: none;
            font-size: 1.5rem;
            color: var(--text-light);
            cursor: pointer;
            padding: 0.25rem;
        }

        /* ===== PAYPAL BUTTON ===== */
        .paypal-container {
            margin: 2rem 0;
            padding: 1.5rem;
            background-color: var(--bg-light);
            border-radius: var(--radius);
            text-align: center;
        }

        #paypal-button-container {
            margin-top: 1rem;
        }

        /* ===== FOOTER ===== */
        footer {
            background-color: var(--bg-dark);
            color: white;
            padding: 3rem 0;
            margin-top: 5rem;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 3rem;
        }

        .footer-section h3 {
            font-size: 1.25rem;
            margin-bottom: 1.5rem;
            color: white;
        }

        .footer-links {
            list-style: none;
        }

        .footer-links li {
            margin-bottom: 0.75rem;
        }

        .footer-links a {
            color: #d1d5db;
            text-decoration: none;
            transition: var(--transition);
        }

        .footer-links a:hover {
            color: var(--primary);
        }

        .copyright {
            text-align: center;
            padding-top: 3rem;
            margin-top: 3rem;
            border-top: 1px solid #374151;
            color: #9ca3af;
            font-size: 0.875rem;
        }

        /* ===== TOAST NOTIFICATION ===== */
        .toast {
            position: fixed;
            top: 20px;
            right: 20px;
            background-color: var(--primary);
            color: white;
            padding: 1rem 1.5rem;
            border-radius: var(--radius);
            box-shadow: var(--shadow-lg);
            z-index: 10000;
            animation: slideInRight 0.3s ease;
            max-width: 400px;
            word-wrap: break-word;
        }

        .toast.error {
            background-color: var(--error);
        }

        .toast.warning {
            background-color: var(--warning);
        }

        .toast.info {
            background-color: var(--info);
        }

        .toast.success {
            background-color: var(--success);
        }

        @keyframes slideInRight {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        @keyframes slideOutRight {
            from { transform: translateX(0); opacity: 1; }
            to { transform: translateX(100%); opacity: 0; }
        }

        /* ===== SUMMARY STYLES ===== */
        .summary-row {
            display: flex;
            justify-content: space-between;
            padding: 0.5rem 0;
            border-bottom: 1px solid var(--border);
        }

        .summary-row.total {
            font-weight: 700;
            font-size: 1.125rem;
            border-bottom: none;
            margin-top: 0.5rem;
            padding-top: 1rem;
            border-top: 2px solid var(--border);
        }

        /* ===== RESPONSIVE DESIGN ===== */
        @media (max-width: 768px) {
            .hero-content {
                grid-template-columns: 1fr;
                text-align: center;
                gap: 2rem;
            }

            .hero-text h1 {
                font-size: 2.5rem;
            }

            .section-title {
                font-size: 2rem;
            }

            .nav-links {
                display: none;
                position: absolute;
                top: 100%;
                left: 0;
                width: 100%;
                background-color: var(--bg-white);
                flex-direction: column;
                padding: 1rem;
                box-shadow: var(--shadow-md);
                z-index: 1000;
            }

            .nav-links.active {
                display: flex;
            }

            .mobile-menu-btn {
                display: block;
            }

            .user-menu {
                margin-top: 1rem;
            }

            .dashboard-grid {
                grid-template-columns: 1fr;
            }

            .coupon-container {
                flex-direction: column;
                text-align: center;
            }

            .coupon-input {
                max-width: 100%;
            }

            .referral-link {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <!-- Promo Banner -->
    <div class="promo-banner">
        <div class="container">
            <span>üöÄ PROMO EXCEPTIONNELLE : 60% DE R√âDUCTION ! </span>
            <span id="countdown-timer" class="countdown"></span>
        </div>
    </div>

    <!-- Navigation -->
    <header>
        <div class="container">
            <nav>
                <a href="#" class="logo">
                    <i class="fas fa-heartbeat"></i>
                    <span>EbookSant√©</span>
                </a>

                <div class="nav-links" id="navLinks">
                    <a href="#home" class="nav-link active">Accueil</a>
                    <a href="#quiz" class="nav-link">Quiz Sant√©</a>
                    <a href="#dashboard" class="nav-link">Tableau de Bord</a>
                    <a href="#loyalty" class="nav-link">Programme Fid√©lit√©</a>
                    <a href="#referral" class="nav-link">Parrainage</a>
                    
                    <div class="nav-actions">
                        <button class="notification-btn" id="notificationBtn">
                            <i class="fas fa-bell"></i>
                            <span class="notification-badge" id="notificationBadge">3</span>
                        </button>
                        <button class="cart-btn" id="cartBtn">
                            <i class="fas fa-shopping-cart"></i>
                            <span class="cart-count" id="cartCount">0</span>
                        </button>
                        <button class="theme-toggle" id="themeToggle">
                            <i class="fas fa-moon"></i>
                        </button>
                        <div class="user-menu">
                            <div class="avatar" id="userAvatar">VS</div>
                            <button class="btn btn-outline" id="loginBtn"><a style="text-decoration: none; color: white;" href="acount.html">Mon Compte</a></button>
                        </div>
                    </div>
                </div>

                <button class="mobile-menu-btn" id="mobileMenuBtn">
                    <i class="fas fa-bars"></i>
                </button>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero" id="home">
        <div class="container">
            <div class="hero-content">
                <div class="hero-text">
                    <h1>Transformez Votre Sant√© avec Notre Guide Complet de Perte de Poids</h1>
                    <p>D√©couvrez une m√©thode scientifique et durable pour atteindre vos objectifs de poids et am√©liorer votre bien-√™tre g√©n√©ral.</p>
                    
                    <div class="price-tag">
                        <div class="price" id="displayPrice">‚Ç¨19,99</div>
                        <div class="original-price">‚Ç¨49,99</div>
                        <span class="badge badge-primary">60% OFF</span>
                    </div>

                    <div class="cta-buttons">
                        <button class="btn btn-primary btn-large" id="buyNowBtn">
                            <i class="fas fa-shopping-cart"></i>
                            Acheter Maintenant
                        </button>
                        <button class="btn btn-outline btn-large" id="addToCartBtn">
                            <i class="fas fa-cart-plus"></i>
                            Ajouter au Panier
                        </button>
                    </div>

                    <div class="stats">
                        <div class="stat-item">
                            <div class="stat-value" id="downloadCount">10,543</div>
                            <div class="stat-label">T√©l√©chargements</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="happyCustomers">9,876</div>
                            <div class="stat-label">Clients Satisfaits</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="avgRating">4.9</div>
                            <div class="stat-label">Note Moyenne</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="pointsEarned">2,450</div>
                            <div class="stat-label">Points Gagn√©s</div>
                        </div>
                    </div>
                </div>

                <div class="hero-image">
                    <img src="https://images.unsplash.com/photo-1546069901-ba9599a7e63c?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" alt="Ebook Sant√©">
                    <div class="floating-badge">N¬∞1 VENTES</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Coupon Section -->
    <section class="coupon-section">
        <div class="container">
            <div class="coupon-container">
                <div>
                    <h3 style="color: white; margin-bottom: 0.5rem;">CODE PROMO EXCLUSIF</h3>
                    <p style="opacity: 0.9;">Utilisez ce code pour une r√©duction suppl√©mentaire</p>
                </div>
                <div class="coupon-code" id="couponCode">SANTE60</div>
                <div>
                    <input type="text" class="coupon-input" placeholder="Entrez votre code promo" id="couponInput">
                    <button class="btn" style="background-color: white; color: var(--primary); margin-left: 0.5rem;" id="applyCouponBtn">Appliquer</button>
                </div>
            </div>
        </div>
    </section>

    <!-- Quiz Section -->
    <section class="quiz-section" id="quiz">
        <div class="container">
            <h2 class="section-title">Quiz Sant√© Personnalis√©</h2>
            <p style="text-align: center; color: var(--text-light); margin-bottom: 3rem; max-width: 600px; margin-left: auto; margin-right: auto;">
                R√©pondez √† quelques questions pour recevoir des recommandations personnalis√©es
            </p>
            
            <div class="quiz-container">
                <div class="quiz-step active" id="step1">
                    <div class="quiz-question">Quel est votre principal objectif de sant√© ?</div>
                    <div class="quiz-options">
                        <div class="quiz-option" data-value="weight-loss">Perdre du poids</div>
                        <div class="quiz-option" data-value="muscle-gain">Prendre du muscle</div>
                        <div class="quiz-option" data-value="energy">Avoir plus d'√©nergie</div>
                        <div class="quiz-option" data-value="stress">R√©duire le stress</div>
                    </div>
                </div>
                
                <div class="quiz-step" id="step2">
                    <div class="quiz-question">Combien de temps pouvez-vous consacrer √† l'exercice par semaine ?</div>
                    <div class="quiz-options">
                        <div class="quiz-option" data-value="0-2h">0-2 heures</div>
                        <div class="quiz-option" data-value="2-4h">2-4 heures</div>
                        <div class="quiz-option" data-value="4-6h">4-6 heures</div>
                        <div class="quiz-option" data-value="6h+">Plus de 6 heures</div>
                    </div>
                </div>
                
                <div class="quiz-step" id="step3">
                    <div class="quiz-question">Quel est votre niveau actuel d'activit√© physique ?</div>
                    <div class="quiz-options">
                        <div class="quiz-option" data-value="beginner">D√©butant</div>
                        <div class="quiz-option" data-value="intermediate">Interm√©diaire</div>
                        <div class="quiz-option" data-value="advanced">Avanc√©</div>
                        <div class="quiz-option" data-value="athlete">Athl√®te</div>
                    </div>
                </div>
                
                <div class="quiz-step" id="step4">
                    <div class="quiz-question">Quel est votre principal d√©fi alimentaire ?</div>
                    <div class="quiz-options">
                        <div class="quiz-option" data-value="snacking">Grignotage</div>
                        <div class="quiz-option" data-value="portions">Portions trop grandes</div>
                        <div class="quiz-option" data-value="sugar">D√©pendance au sucre</div>
                        <div class="quiz-option" data-value="time">Manque de temps pour cuisiner</div>
                    </div>
                </div>
                
                <div class="quiz-step" id="step5">
                    <div class="quiz-question">Quel est votre budget pour des produits sant√© ?</div>
                    <div class="quiz-options">
                        <div class="quiz-option" data-value="budget">√âconomique (moins de 50‚Ç¨/mois)</div>
                        <div class="quiz-option" data-value="moderate">Mod√©r√© (50-100‚Ç¨/mois)</div>
                        <div class="quiz-option" data-value="premium">Premium (100‚Ç¨+/mois)</div>
                        <div class="quiz-option" data-value="flexible">Flexible selon les besoins</div>
                    </div>
                </div>
                
                <div class="quiz-step" id="step6">
                    <div class="quiz-question" style="text-align: center;">
                        <i class="fas fa-check-circle" style="font-size: 4rem; color: var(--primary); margin-bottom: 1rem;"></i>
                        <h3>Quiz Termin√© !</h3>
                        <p style="color: var(--text-light); margin-top: 1rem;">Bas√© sur vos r√©ponses, nous vous recommandons :</p>
                    </div>
                    <div id="quizResults"></div>
                </div>
                
                <div class="quiz-progress">
                    <div class="quiz-progress-fill" id="quizProgressFill" style="width: 16.66%"></div>
                </div>
                
                <div class="quiz-navigation">
                    <button class="btn btn-outline" id="quizPrevBtn" disabled>
                        <i class="fas fa-arrow-left"></i>
                        Pr√©c√©dent
                    </button>
                    <button class="btn btn-primary" id="quizNextBtn">
                        Suivant
                        <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- User Dashboard -->
    <section class="dashboard-section" id="dashboard">
        <div class="container">
            <h2 class="section-title">Votre Tableau de Bord</h2>
            
            <div class="dashboard-grid">
                <div class="dashboard-sidebar">
                    <div class="card">
                        <div style="padding: 1.5rem;">
                            <div class="avatar" style="width: 80px; height: 80px; margin: 0 auto 1rem;">VS</div>
                            <h3 style="text-align: center; margin-bottom: 0.5rem;">Vincent Sant√©</h3>
                            <p style="text-align: center; color: var(--text-light); font-size: 0.875rem;">Membre Gold</p>
                        </div>
                    </div>
                    
                    <div class="card">
                        <div style="padding: 1.5rem;">
                            <div class="dashboard-nav">
                                <a href="#dashboard-overview" class="dashboard-nav-item active" data-section="overview">
                                    <i class="fas fa-chart-line"></i>
                                    Vue d'ensemble
                                </a>
                                <a href="#dashboard-ebooks" class="dashboard-nav-item" data-section="ebooks">
                                    <i class="fas fa-book"></i>
                                    Mes Ebooks
                                </a>
                                <a href="#dashboard-goals" class="dashboard-nav-item" data-section="goals">
                                    <i class="fas fa-trophy"></i>
                                    Mes Objectifs
                                </a>
                                <a href="#dashboard-calendar" class="dashboard-nav-item" data-section="calendar">
                                    <i class="fas fa-calendar"></i>
                                    Calendrier
                                </a>
                                <a href="#dashboard-settings" class="dashboard-nav-item" data-section="settings">
                                    <i class="fas fa-cog"></i>
                                    Param√®tres
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div id="dashboardContent">
                    <div class="stats-grid">
                        <div class="stat-card card">
                            <div class="stat-value" id="dashboardDownloads">3</div>
                            <div class="stat-label">Ebooks Achet√©s</div>
                        </div>
                        <div class="stat-card card">
                            <div class="stat-value" id="dashboardPoints">2,450</div>
                            <div class="stat-label">Points Fid√©lit√©</div>
                        </div>
                        <div class="stat-card card">
                            <div class="stat-value" id="dashboardStreak">42</div>
                            <div class="stat-label">Jours de Suite</div>
                        </div>
                        <div class="stat-card card">
                            <div class="stat-value" id="dashboardGoals">75%</div>
                            <div class="stat-label">Objectifs Atteints</div>
                        </div>
                    </div>
                    
                    <div class="chart-container card">
                        <h3 style="margin-bottom: 1rem; color: var(--text-dark);">Progression du Poids</h3>
                        <div id="weightChart" style="height: 250px; display: flex; align-items: flex-end; gap: 1rem; padding: 1rem 0;">
                            <!-- Chart will be generated by JavaScript -->
                        </div>
                    </div>
                    
                    <div class="goals-grid" id="goalsGrid">
                        <!-- Goals will be generated by JavaScript -->
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Loyalty Program -->
    <section class="loyalty-section" id="loyalty">
        <div class="container">
            <h2 class="section-title">Programme de Fid√©lit√©</h2>
            
            <div class="loyalty-card">
                <h3 style="color: white;">Votre Niveau : <span style="color: #fbbf24;">GOLD</span></h3>
                <div class="points-display" id="loyaltyPoints">2,450</div>
                <p style="opacity: 0.9; margin-bottom: 1.5rem;">Points Fid√©lit√©</p>
                
                <div style="display: flex; gap: 1rem; justify-content: center;">
                    <button class="btn" style="background-color: white; color: var(--primary);" id="redeemPointsBtn">
                        <i class="fas fa-gift"></i>
                        √âchanger des points
                    </button>
                    <button class="btn btn-outline" style="border-color: white; color: white;" id="howItWorksBtn">
                        <i class="fas fa-question-circle"></i>
                        Comment √ßa marche
                    </button>
                </div>
            </div>
            
            <div class="loyalty-benefits">
                <div class="benefit-card card">
                    <div class="feature-icon" style="background-color: var(--primary-light);">
                        <i class="fas fa-percentage"></i>
                    </div>
                    <h3>R√©ductions Exclusives</h3>
                    <p>Jusqu'√† 30% de r√©duction sur vos prochains achats</p>
                </div>
                
                <div class="benefit-card card">
                    <div class="feature-icon" style="background-color: var(--accent2); color: #d97706;">
                        <i class="fas fa-gift"></i>
                    </div>
                    <h3>Cadeaux Gratuits</h3>
                    <p>Recevez des ebooks gratuits tous les 1000 points</p>
                </div>
                
                <div class="benefit-card card">
                    <div class="feature-icon" style="background-color: var(--secondary-light); color: var(--secondary);">
                        <i class="fas fa-star"></i>
                    </div>
                    <h3>Acc√®s Prioritaire</h3>
                    <p>Acc√®s en avant-premi√®re √† nos nouveaux produits</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Referral System -->
    <section class="referral-section" id="referral">
        <div class="container">
            <h2 class="section-title">Syst√®me de Parrainage</h2>
            
            <div class="referral-card card">
                <h3 style="text-align: center; margin-bottom: 1rem;">Parrainez un Ami et Gagnez Ensemble</h3>
                <p style="text-align: center; color: var(--text-light); margin-bottom: 1.5rem;">
                    Partagez votre lien de parrainage et gagnez 500 points pour chaque ami qui ach√®te
                </p>
                
                <div class="referral-link">
                    <input type="text" id="referralLink" value="https://ebooksante.fr/ref/vsant√©123" readonly>
                    <button class="btn btn-primary" id="copyReferralBtn">
                        <i class="fas fa-copy"></i>
                        Copier
                    </button>
                </div>
                
                <div class="referral-stats">
                    <div class="stat-card card">
                        <div class="stat-value" id="referralCount">7</div>
                        <div class="stat-label">Personnes Parrain√©es</div>
                    </div>
                    
                    <div class="stat-card card">
                        <div class="stat-value" id="referralEarnings">3,500</div>
                        <div class="stat-label">Points Gagn√©s</div>
                    </div>
                    
                    <div class="stat-card card">
                        <div class="stat-value" id="referralRewards">‚Ç¨85</div>
                        <div class="stat-label">Valeur Totale</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Calendar Section -->
    <section class="calendar-section" id="calendar">
        <div class="container">
            <h2 class="section-title">Calendrier de Suivi</h2>
            
            <div class="calendar-container">
                <div class="calendar-header">
                    <button class="btn btn-outline" id="prevMonthBtn">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <h3 id="currentMonth">Janvier 2024</h3>
                    <button class="btn btn-outline" id="nextMonthBtn">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
                
                <div class="calendar-grid" id="calendarGrid">
                    <!-- Calendar will be generated by JavaScript -->
                </div>
                
                <div style="display: flex; gap: 1rem; margin-top: 2rem; flex-wrap: wrap;">
                    <div style="display: flex; align-items: center; gap: 0.5rem;">
                        <div style="width: 20px; height: 20px; background-color: var(--primary); border-radius: 4px;"></div>
                        <span style="font-size: 0.875rem;">Jour actif</span>
                    </div>
                    <div style="display: flex; align-items: center; gap: 0.5rem;">
                        <div style="width: 20px; height: 20px; background-color: var(--success); border-radius: 4px;"></div>
                        <span style="font-size: 0.875rem;">Objectif atteint</span>
                    </div>
                    <div style="display: flex; align-items: center; gap: 0.5rem;">
                        <div style="width: 20px; height: 20px; background-color: var(--border); border-radius: 4px;"></div>
                        <span style="font-size: 0.875rem;">Jour √† venir</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- PayPal Checkout Modal -->
    <div class="modal" id="paypalModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 style="font-size: 1.5rem; color: var(--text-dark);">Paiement PayPal</h2>
                <button class="close-modal" id="closePaypalModal">&times;</button>
            </div>
            
            <div class="modal-body">
                <div id="paypalCheckout">
                    <div style="text-align: center; margin-bottom: 2rem;">
                        <i class="fab fa-paypal" style="font-size: 3rem; color: #003087; margin-bottom: 1rem;"></i>
                        <h3 style="margin-bottom: 0.5rem; color: var(--text-dark);">Paiement S√©curis√©</h3>
                        <p style="color: var(--text-light);">Vous allez √™tre redirig√© vers PayPal pour finaliser votre paiement</p>
                    </div>
                    
                    <div class="payment-summary" style="margin-bottom: 2rem;">
                        <div class="summary-row">
                            <span>Produit:</span>
                            <span>Guide Complet Perte de Poids</span>
                        </div>
                        <div class="summary-row">
                            <span>Prix:</span>
                            <span id="paypalPrice">‚Ç¨19.99</span>
                        </div>
                        <div class="summary-row">
                            <span>R√©duction:</span>
                            <span id="paypalDiscount">-‚Ç¨0.00</span>
                        </div>
                        <div class="summary-row total">
                            <span>Total √† payer:</span>
                            <span id="paypalTotal">‚Ç¨19.99</span>
                        </div>
                    </div>
                    
                    <div class="paypal-container">
                        <p style="margin-bottom: 1rem; color: var(--text-light);">
                            <i class="fas fa-lock"></i> Paiement 100% s√©curis√© par PayPal
                        </p>
                        <div id="paypal-button-container"></div>
                    </div>
                    
                    <div style="text-align: center; margin-top: 2rem;">
                        <p style="color: var(--text-light); font-size: 0.875rem;">
                            <i class="fas fa-shield-alt"></i> Vos donn√©es bancaires ne sont jamais partag√©es avec nous
                        </p>
                    </div>
                </div>
                
                <div class="confirmation" id="paypalConfirmation" style="display: none;">
                    <div style="text-align: center; margin-bottom: 2rem;">
                        <i class="fas fa-check-circle" style="font-size: 4rem; color: var(--success);"></i>
                    </div>
                    <h2 style="text-align: center;">Paiement R√©ussi !</h2>
                    <p style="margin-bottom: 2rem; text-align: center;">Votre paiement PayPal a √©t√© confirm√©. Votre ebook est maintenant disponible.</p>
                    
                    <div style="background-color: var(--primary-light); padding: 1.5rem; border-radius: var(--radius); margin-bottom: 2rem;">
                        <h4 style="margin-bottom: 0.5rem; color: var(--text-dark);">Transaction PayPal</h4>
                        <div style="font-size: 0.875rem;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 0.25rem;">
                                <span style="color: var(--text-light);">ID de transaction:</span>
                                <span id="transactionId">PAYPAL-123456</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; margin-bottom: 0.25rem;">
                                <span style="color: var(--text-light);">Montant:</span>
                                <span id="transactionAmount">‚Ç¨19.99</span>
                            </div>
                            <div style="display: flex; justify-content: space-between;">
                                <span style="color: var(--text-light);">Statut:</span>
                                <span style="color: var(--success); font-weight: 600;">Pay√©</span>
                            </div>
                        </div>
                    </div>
                    
                    <button class="btn btn-primary" style="width: 100%;" id="downloadAfterPaypalBtn">
                        <i class="fas fa-download"></i>
                        T√©l√©charger l'Ebook
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>EbookSant√©</h3>
                    <p>Votre partenaire pour une sant√© durable et un bien-√™tre optimal.</p>
                    <div style="display: flex; gap: 1rem; margin-top: 1rem; font-size: 1.25rem;">
                        <a href="#" style="color: white;"><i class="fab fa-paypal"></i></a>
                        <a href="#" style="color: white;"><i class="fab fa-cc-visa"></i></a>
                        <a href="#" style="color: white;"><i class="fab fa-cc-mastercard"></i></a>
                        <a href="#" style="color: white;"><i class="fab fa-apple-pay"></i></a>
                    </div>
                </div>

                <div class="footer-section">
                    <h3>Liens Rapides</h3>
                    <ul class="footer-links">
                        <li><a href="santeAccueille.html">Accueil</a></li>
                        <li><a href="#quiz">Quiz Sant√©</a></li>
                        <li><a href="#dashboard">Tableau de Bord</a></li>
                        <li><a href="#loyalty">Fid√©lit√©</a></li>
                        <li><a href="#referral">Parrainage</a></li>
                    </ul>
                </div>

                <div class="footer-section">
                    <h3>Contact</h3>
                    <ul class="footer-links">
                        <li><i class="fas fa-envelope"><a href="Contact.html"></i> contact@ebooksante.fr</a></li>
                        <li><i class="fas fa-phone"></i> +33 1 23 45 67 89</li>
                        <li><i class="fas fa-map-marker-alt"></i> Paris, France</li>
                        <li><i class="fab fa-paypal"></i> paypal@ebooksante.fr</li>
                    </ul>
                </div>

                <div class="footer-section">
                    <h3>Moyens de Paiement</h3>
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 0.5rem; margin-top: 1rem;">
                        <div style="background-color: white; padding: 0.5rem; border-radius: 4px; text-align: center;">
                            <i class="fab fa-paypal" style="color: #003087;"></i>
                        </div>
                        <div style="background-color: white; padding: 0.5rem; border-radius: 4px; text-align: center;">
                            <i class="fab fa-cc-visa" style="color: #1a1f71;"></i>
                        </div>
                        <div style="background-color: white; padding: 0.5rem; border-radius: 4px; text-align: center;">
                            <i class="fab fa-cc-mastercard" style="color: #eb001b;"></i>
                        </div>
                    </div>
                </div>
            </div>

            <div class="copyright">
                <p>¬© 2024 EbookSant√©. Tous droits r√©serv√©s. | <a href="#" style="color: var(--primary);">Mentions l√©gales</a> | <a href="politique-confidentialite.html" style="color: var(--primary);">Politique de confidentialit√©</a></p>
                <p style="margin-top: 0.5rem;">
                    <span id="liveStats">En ligne: 247 | Aujourd'hui: 1,543 visites | Paiements s√©curis√©s avec PayPal</span>
                </p>
            </div>
        </div>
    </footer>

    <script>
        // ===== √âTAT GLOBAL DE L'APPLICATION =====
        const AppState = {
            user: {
                name: "Vincent Sant√©",
                email: "vincent@example.com",
                level: "gold",
                points: 2450,
                referrals: 7,
                streak: 42,
                goals: 75,
                downloads: 3,
                weightData: [80, 78, 76, 74, 72, 71, 70, 69, 68, 67, 66, 65]
            },
            cart: [],
            quizAnswers: {},
            currentStep: 1,
            totalSteps: 6,
            activeCoupon: null,
            basePrice: 19.99,
            coupons: {
                "SANTE60": { discount: 0.60, valid: true },
                "BIENETRE30": { discount: 0.30, valid: true },
                "SANTE2024": { discount: 0.25, valid: true }
            },
            currentMonth: new Date().getMonth(),
            currentYear: new Date().getFullYear(),
            notifications: [
                { id: 1, title: "Nouveau badge d√©bloqu√©", message: "F√©licitations ! Vous avez d√©bloqu√© le badge 'D√©butant Sant√©'", read: false },
                { id: 2, title: "Points bonus", message: "Vous avez gagn√© 100 points pour avoir compl√©t√© le quiz", read: false },
                { id: 3, title: "Rappel objectif", message: "N'oubliez pas de mettre √† jour votre progression aujourd'hui", read: false }
            ],
            goals: [
                { id: 1, title: "Perte de Poids", description: "Objectif: -5kg", progress: 60, target: 100 },
                { id: 2, title: "Activit√© Physique", description: "Objectif: 150 min/semaine", progress: 85, target: 100 },
                { id: 3, title: "Hydratation", description: "Objectif: 2L/jour", progress: 90, target: 100 }
            ]
        };

        // ===== UTILITAIRES =====
        function showToast(message, type = 'info', duration = 3000) {
            const toast = document.createElement('div');
            toast.className = `toast ${type}`;
            toast.innerHTML = message;
            
            document.body.appendChild(toast);
            
            setTimeout(() => {
                toast.style.animation = 'slideOutRight 0.3s ease';
                setTimeout(() => {
                    if (toast.parentNode) {
                        toast.parentNode.removeChild(toast);
                    }
                }, 300);
            }, duration);
            
            return toast;
        }

        function updateDisplayPrice() {
            const total = calculateTotal();
            document.getElementById('displayPrice').textContent = `‚Ç¨${total.toFixed(2).replace('.', ',')}`;
        }

        function calculateTotal() {
            let discount = 0;
            
            if (AppState.activeCoupon && AppState.coupons[AppState.activeCoupon]) {
                discount = AppState.basePrice * AppState.coupons[AppState.activeCoupon].discount;
            }
            
            return AppState.basePrice - discount;
        }

        function updatePayPalDisplay() {
            const discount = AppState.activeCoupon ? AppState.basePrice * AppState.coupons[AppState.activeCoupon].discount : 0;
            const total = calculateTotal();
            
            document.getElementById('paypalPrice').textContent = `‚Ç¨${AppState.basePrice.toFixed(2)}`;
            document.getElementById('paypalDiscount').textContent = `-‚Ç¨${discount.toFixed(2)}`;
            document.getElementById('paypalTotal').textContent = `‚Ç¨${total.toFixed(2)}`;
        }

        // ===== GESTION DU QUIZ =====
        function initQuiz() {
            const quizOptions = document.querySelectorAll('.quiz-option');
            const quizNextBtn = document.getElementById('quizNextBtn');
            const quizPrevBtn = document.getElementById('quizPrevBtn');
            const quizProgressFill = document.getElementById('quizProgressFill');

            // Gestion du clic sur les options
            quizOptions.forEach(option => {
                option.addEventListener('click', function() {
                    const parent = this.parentElement;
                    parent.querySelectorAll('.quiz-option').forEach(opt => {
                        opt.classList.remove('selected');
                    });
                    this.classList.add('selected');
                    
                    const stepId = this.closest('.quiz-step').id;
                    AppState.quizAnswers[stepId] = this.dataset.value;
                });
            });

            // Bouton Suivant
            quizNextBtn.addEventListener('click', function() {
                if (AppState.currentStep < AppState.totalSteps) {
                    const currentStep = document.getElementById(`step${AppState.currentStep}`);
                    const selectedOption = currentStep.querySelector('.quiz-option.selected');
                    
                    if (!selectedOption) {
                        showToast('Veuillez s√©lectionner une r√©ponse', 'warning');
                        return;
                    }
                    
                    // Passer √† l'√©tape suivante
                    currentStep.classList.remove('active');
                    AppState.currentStep++;
                    document.getElementById(`step${AppState.currentStep}`).classList.add('active');
                    
                    // Mettre √† jour la progression
                    const progress = (AppState.currentStep / AppState.totalSteps) * 100;
                    quizProgressFill.style.width = `${progress}%`;
                    
                    // Mettre √† jour les boutons
                    quizPrevBtn.disabled = AppState.currentStep === 1;
                    
                    if (AppState.currentStep === AppState.totalSteps) {
                        generateQuizResults();
                        quizNextBtn.innerHTML = 'Recommencer <i class="fas fa-redo"></i>';
                        quizNextBtn.onclick = restartQuiz;
                    }
                }
            });

            // Bouton Pr√©c√©dent
            quizPrevBtn.addEventListener('click', function() {
                if (AppState.currentStep > 1) {
                    document.getElementById(`step${AppState.currentStep}`).classList.remove('active');
                    AppState.currentStep--;
                    document.getElementById(`step${AppState.currentStep}`).classList.add('active');
                    
                    const progress = (AppState.currentStep / AppState.totalSteps) * 100;
                    quizProgressFill.style.width = `${progress}%`;
                    
                    quizPrevBtn.disabled = AppState.currentStep === 1;
                    quizNextBtn.innerHTML = 'Suivant <i class="fas fa-arrow-right"></i>';
                    quizNextBtn.onclick = function() {
                        document.getElementById('quizNextBtn').click();
                    };
                }
            });

            window.restartQuiz = function() {
                AppState.currentStep = 1;
                AppState.quizAnswers = {};
                
                // R√©initialiser toutes les √©tapes
                for (let i = 1; i <= AppState.totalSteps; i++) {
                    const step = document.getElementById(`step${i}`);
                    step.classList.remove('active');
                    step.querySelectorAll('.quiz-option').forEach(opt => {
                        opt.classList.remove('selected');
                    });
                }
                
                // Afficher la premi√®re √©tape
                document.getElementById('step1').classList.add('active');
                
                // R√©initialiser la progression
                quizProgressFill.style.width = `${(1/AppState.totalSteps) * 100}%`;
                
                // R√©initialiser les boutons
                quizPrevBtn.disabled = true;
                quizNextBtn.innerHTML = 'Suivant <i class="fas fa-arrow-right"></i>';
                quizNextBtn.onclick = function() {
                    document.getElementById('quizNextBtn').click();
                };
                
                // Cacher les r√©sultats
                document.getElementById('quizResults').innerHTML = '';
                
                showToast('Quiz r√©initialis√©', 'info');
            };
        }

        function generateQuizResults() {
            const resultsContainer = document.getElementById('quizResults');
            let recommendations = [];
            
            // Logique de recommandation bas√©e sur les r√©ponses
            if (AppState.quizAnswers.step1 === 'weight-loss') {
                recommendations.push({
                    title: "Guide Perte de Poids",
                    description: "Notre guide complet avec plan alimentaire et exercices",
                    points: 500
                });
            }
            
            if (AppState.quizAnswers.step2 && (AppState.quizAnswers.step2 === '0-2h' || AppState.quizAnswers.step2 === '2-4h')) {
                recommendations.push({
                    title: "Exercices √† Domicile",
                    description: "S√©ances de 15-30 minutes sans √©quipement",
                    points: 300
                });
            }
            
            if (AppState.quizAnswers.step4 && (AppState.quizAnswers.step4 === 'snacking' || AppState.quizAnswers.step4 === 'sugar')) {
                recommendations.push({
                    title: "Guide Anti-Grignotage",
                    description: "Strat√©gies pour contr√¥ler les envies de sucre",
                    points: 400
                });
            }
            
            // Toujours recommander le produit principal
            recommendations.unshift({
                title: "Guide Complet Perte de Poids",
                description: "La solution tout-en-un pour transformer votre sant√©",
                points: 1000,
                main: true
            });
            
            let resultsHTML = '<div style="display: grid; gap: 1rem; margin-top: 2rem;">';
            
            recommendations.forEach((rec, index) => {
                resultsHTML += `
                    <div style="background-color: var(--primary-light); padding: 1.5rem; border-radius: var(--radius);">
                        <div style="display: flex; justify-content: space-between; align-items: start;">
                            <div>
                                <h4 style="margin-bottom: 0.5rem; color: var(--text-dark);">${rec.title}</h4>
                                <p style="color: var(--text-light); font-size: 0.875rem;">${rec.description}</p>
                            </div>
                            <span class="badge badge-success">+${rec.points} points</span>
                        </div>
                        <button class="btn btn-primary" style="width: 100%; margin-top: 1rem;" onclick="addToCart(${index})">
                            <i class="fas fa-cart-plus"></i>
                            ${rec.main ? 'Acheter Maintenant' : 'Ajouter au panier'}
                        </button>
                    </div>
                `;
            });
            
            resultsHTML += '</div>';
            resultsContainer.innerHTML = resultsHTML;
            
            // Ajouter des points bonus
            AppState.user.points += 100;
            updateUserStats();
            showToast('Quiz compl√©t√© ! Vous avez gagn√© 100 points bonus', 'success');
        }

        // ===== GESTION DES COUPONS =====
        function initCoupons() {
            const applyCouponBtn = document.getElementById('applyCouponBtn');
            const couponInput = document.getElementById('couponInput');
            const couponCode = document.getElementById('couponCode');

            // Copier le code coupon
            couponCode.addEventListener('click', function() {
                navigator.clipboard.writeText(this.textContent).then(() => {
                    showToast('Code coupon copi√© !', 'success');
                });
            });

            // Appliquer le coupon
            applyCouponBtn.addEventListener('click', function() {
                const code = couponInput.value.trim().toUpperCase();
                
                if (!code) {
                    showToast('Veuillez entrer un code promo', 'warning');
                    return;
                }
                
                if (AppState.coupons[code]) {
                    if (AppState.coupons[code].valid) {
                        AppState.activeCoupon = code;
                        updateDisplayPrice();
                        updatePayPalDisplay();
                        showToast(`Code "${code}" appliqu√© avec succ√®s ! R√©duction de ${AppState.coupons[code].discount * 100}%`, 'success');
                        couponInput.value = '';
                        
                        // Ajouter des points bonus
                        AppState.user.points += 50;
                        updateUserStats();
                    } else {
                        showToast('Ce code promo a expir√©', 'error');
                    }
                } else {
                    showToast('Code promo invalide', 'error');
                }
            });

            // Autocompl√©tion
            couponInput.addEventListener('focus', function() {
                if (!this.value) {
                    this.value = 'SANTE';
                }
            });
        }

        // ===== CALENDRIER =====
        function initCalendar() {
            const calendarGrid = document.getElementById('calendarGrid');
            const currentMonthEl = document.getElementById('currentMonth');
            const prevMonthBtn = document.getElementById('prevMonthBtn');
            const nextMonthBtn = document.getElementById('nextMonthBtn');
            
            const monthNames = [
                'Janvier', 'F√©vrier', 'Mars', 'Avril', 'Mai', 'Juin',
                'Juillet', 'Ao√ªt', 'Septembre', 'Octobre', 'Novembre', 'D√©cembre'
            ];
            
            function generateCalendar() {
                calendarGrid.innerHTML = '';
                
                // En-t√™tes des jours
                const days = ['Lun', 'Mar', 'Mer', 'Jeu', 'Ven', 'Sam', 'Dim'];
                days.forEach(day => {
                    const dayEl = document.createElement('div');
                    dayEl.textContent = day;
                    dayEl.style.fontWeight = '600';
                    dayEl.style.color = 'var(--text-dark)';
                    calendarGrid.appendChild(dayEl);
                });
                
                // Premier jour du mois
                const firstDay = new Date(AppState.currentYear, AppState.currentMonth, 1);
                const lastDay = new Date(AppState.currentYear, AppState.currentMonth + 1, 0);
                
                // Jours du mois pr√©c√©dent
                const firstDayIndex = firstDay.getDay() === 0 ? 6 : firstDay.getDay() - 1;
                
                for (let i = 0; i < firstDayIndex; i++) {
                    const emptyDay = document.createElement('div');
                    calendarGrid.appendChild(emptyDay);
                }
                
                // Jours du mois courant
                const today = new Date();
                const completedDays = JSON.parse(localStorage.getItem('completedDays') || '[]');
                
                for (let day = 1; day <= lastDay.getDate(); day++) {
                    const dayEl = document.createElement('div');
                    dayEl.className = 'calendar-day';
                    dayEl.textContent = day;
                    
                    const dateKey = `${day}-${AppState.currentMonth}-${AppState.currentYear}`;
                    
                    // Marquer aujourd'hui
                    if (day === today.getDate() && 
                        AppState.currentMonth === today.getMonth() && 
                        AppState.currentYear === today.getFullYear()) {
                        dayEl.classList.add('active');
                    }
                    
                    // Marquer les jours compl√©t√©s
                    if (completedDays.includes(dateKey)) {
                        dayEl.classList.add('completed');
                    }
                    
                    // Marquer les jours pass√©s
                    if (day < today.getDate() && 
                        AppState.currentMonth === today.getMonth() && 
                        AppState.currentYear === today.getFullYear() &&
                        !completedDays.includes(dateKey) &&
                        Math.random() > 0.3) {
                        dayEl.classList.add('completed');
                    }
                    
                    dayEl.addEventListener('click', function() {
                        const date = this.textContent;
                        const dateKey = `${date}-${AppState.currentMonth}-${AppState.currentYear}`;
                        
                        if (this.classList.contains('completed')) {
                            this.classList.remove('completed');
                            const index = completedDays.indexOf(dateKey);
                            if (index > -1) {
                                completedDays.splice(index, 1);
                            }
                        } else {
                            this.classList.add('completed');
                            if (!completedDays.includes(dateKey)) {
                                completedDays.push(dateKey);
                            }
                            AppState.user.streak++;
                            updateUserStats();
                            showToast(`Jour ${date} marqu√© comme termin√© !`, 'success');
                        }
                        
                        localStorage.setItem('completedDays', JSON.stringify(completedDays));
                        
                        // Mettre √† jour le streak
                        updateUserStats();
                    });
                    
                    calendarGrid.appendChild(dayEl);
                }
                
                // Mettre √† jour le titre
                currentMonthEl.textContent = `${monthNames[AppState.currentMonth]} ${AppState.currentYear}`;
            }
            
            prevMonthBtn.addEventListener('click', function() {
                AppState.currentMonth--;
                if (AppState.currentMonth < 0) {
                    AppState.currentMonth = 11;
                    AppState.currentYear--;
                }
                generateCalendar();
            });
            
            nextMonthBtn.addEventListener('click', function() {
                AppState.currentMonth++;
                if (AppState.currentMonth > 11) {
                    AppState.currentMonth = 0;
                    AppState.currentYear++;
                }
                generateCalendar();
            });
            
            generateCalendar();
        }

        // ===== SYST√àME DE PARRAINAGE =====
        function initReferralSystem() {
            const copyReferralBtn = document.getElementById('copyReferralBtn');
            const referralLink = document.getElementById('referralLink');
            
            copyReferralBtn.addEventListener('click', function() {
                referralLink.select();
                navigator.clipboard.writeText(referralLink.value).then(() => {
                    showToast('Lien de parrainage copi√© ! Partagez-le avec vos amis.', 'success');
                    AppState.user.points += 10;
                    updateUserStats();
                });
            });
        }

        // ===== PROGRAMME DE FID√âLIT√â =====
        function initLoyaltyProgram() {
            const redeemPointsBtn = document.getElementById('redeemPointsBtn');
            const howItWorksBtn = document.getElementById('howItWorksBtn');
            
            redeemPointsBtn.addEventListener('click', function() {
                if (AppState.user.points >= 1000) {
                    if (confirm(`√âchanger 1000 points pour un ebook gratuit ?\n\nPoints actuels: ${AppState.user.points}\nPoints apr√®s √©change: ${AppState.user.points - 1000}`)) {
                        AppState.user.points -= 1000;
                        AppState.user.downloads++;
                        updateUserStats();
                        
                        // Ajouter une notification
                        AppState.notifications.unshift({
                            id: Date.now(),
                            title: "Points √©chang√©s",
                            message: "Vous avez √©chang√© 1000 points pour un ebook gratuit",
                            read: false
                        });
                        updateNotificationBadge();
                        
                        showToast('F√©licitations ! Un nouvel ebook a √©t√© ajout√© √† votre biblioth√®que.', 'success');
                    }
                } else {
                    showToast(`Il vous faut ${1000 - AppState.user.points} points suppl√©mentaires pour √©changer un ebook gratuit`, 'warning');
                }
            });
            
            howItWorksBtn.addEventListener('click', function() {
                const info = `
                    <h4>Comment fonctionne le programme fid√©lit√© ?</h4>
                    <ul style="text-align: left; margin-top: 1rem;">
                        <li><strong>100 points</strong> = 1‚Ç¨ de r√©duction</li>
                        <li><strong>500 points</strong> = ebook √† 50% de r√©duction</li>
                        <li><strong>1000 points</strong> = ebook gratuit</li>
                        <li><strong>Parrainage</strong> = 500 points par ami</li>
                        <li><strong>Quiz compl√©t√©</strong> = 100 points bonus</li>
                    </ul>
                `;
                showToast(info, 'info', 8000);
            });
        }

        // ===== NOTIFICATIONS =====
        function initNotifications() {
            const notificationBtn = document.getElementById('notificationBtn');
            const notificationBadge = document.getElementById('notificationBadge');
            
            function updateNotificationBadge() {
                const unreadCount = AppState.notifications.filter(n => !n.read).length;
                notificationBadge.textContent = unreadCount;
                notificationBadge.style.display = unreadCount > 0 ? 'flex' : 'none';
            }
            
            notificationBtn.addEventListener('click', function() {
                // Cr√©er une modal de notifications
                const modal = document.createElement('div');
                modal.className = 'modal active';
                modal.innerHTML = `
                    <div class="modal-content">
                        <div class="modal-header">
                            <h2>Notifications</h2>
                            <button class="close-modal" onclick="this.closest('.modal').remove()">&times;</button>
                        </div>
                        <div class="modal-body" style="max-height: 400px; overflow-y: auto;">
                            ${AppState.notifications.map(notification => `
                                <div style="padding: 1rem; border-bottom: 1px solid var(--border); ${notification.read ? '' : 'background-color: var(--primary-light);'}">
                                    <div style="display: flex; justify-content: space-between; align-items: start;">
                                        <div>
                                            <h4 style="margin-bottom: 0.25rem; color: var(--text-dark);">${notification.title}</h4>
                                            <p style="color: var(--text-light); font-size: 0.875rem;">${notification.message}</p>
                                        </div>
                                        ${!notification.read ? '<span class="badge badge-primary">Nouveau</span>' : ''}
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
                
                document.body.appendChild(modal);
                
                // Marquer toutes comme lues
                AppState.notifications.forEach(n => n.read = true);
                updateNotificationBadge();
                
                // Fermer en cliquant √† l'ext√©rieur
                modal.addEventListener('click', function(e) {
                    if (e.target === this) {
                        this.remove();
                    }
                });
            });
            
            updateNotificationBadge();
        }

        // ===== TABLEAU DE BORD =====
        function initDashboard() {
            const dashboardNavItems = document.querySelectorAll('.dashboard-nav-item');
            
            dashboardNavItems.forEach(item => {
                item.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    // Mettre √† jour la navigation active
                    dashboardNavItems.forEach(nav => nav.classList.remove('active'));
                    this.classList.add('active');
                    
                    const section = this.dataset.section;
                    loadDashboardSection(section);
                });
            });
            
            // Initialiser les graphiques
            renderWeightChart();
            renderGoals();
        }
        
        function renderWeightChart() {
            const chartContainer = document.getElementById('weightChart');
            chartContainer.innerHTML = '';
            
            const maxWeight = Math.max(...AppState.user.weightData);
            const minWeight = Math.min(...AppState.user.weightData);
            
            AppState.user.weightData.forEach((weight, index) => {
                const height = ((weight - minWeight) / (maxWeight - minWeight)) * 100;
                const bar = document.createElement('div');
                bar.style.flex = '1';
                bar.style.display = 'flex';
                bar.style.flexDirection = 'column';
                bar.style.alignItems = 'center';
                
                bar.innerHTML = `
                    <div style="width: 100%; background-color: var(--primary); height: ${100 - height}%; border-radius: 4px;"></div>
                    <div style="margin-top: 0.5rem; font-size: 0.875rem;">${weight}kg</div>
                    <div style="font-size: 0.75rem; color: var(--text-light);">Sem ${index + 1}</div>
                `;
                
                chartContainer.appendChild(bar);
            });
        }
        
        function renderGoals() {
            const goalsGrid = document.getElementById('goalsGrid');
            goalsGrid.innerHTML = '';
            
            AppState.goals.forEach(goal => {
                const goalCard = document.createElement('div');
                goalCard.className = 'goal-card card';
                
                goalCard.innerHTML = `
                    <h4 style="margin-bottom: 0.5rem; color: var(--text-dark);">${goal.title}</h4>
                    <p style="color: var(--text-light); font-size: 0.875rem;">${goal.description}</p>
                    <div class="goal-progress">
                        <div class="goal-progress-fill" style="width: ${goal.progress}%"></div>
                    </div>
                    <div style="display: flex; justify-content: space-between; font-size: 0.875rem;">
                        <span>Progression</span>
                        <span>${goal.progress}%</span>
                    </div>
                `;
                
                goalsGrid.appendChild(goalCard);
            });
        }
        
        function loadDashboardSection(section) {
            const content = document.getElementById('dashboardContent');
            
            switch(section) {
                case 'ebooks':
                    content.innerHTML = `
                        <div style="padding: 2rem;">
                            <h3 style="margin-bottom: 1.5rem; color: var(--text-dark);">Mes Ebooks</h3>
                            <div style="display: grid; gap: 1rem;">
                                <div style="background-color: var(--primary-light); padding: 1.5rem; border-radius: var(--radius);">
                                    <div style="display: flex; justify-content: space-between; align-items: center;">
                                        <div>
                                            <h4 style="margin-bottom: 0.25rem; color: var(--text-dark);">Guide Complet Perte de Poids</h4>
                                            <p style="color: var(--text-light); font-size: 0.875rem;">Achet√© le 15/01/2024</p>
                                        </div>
                                        <button class="btn btn-primary">
                                            <i class="fas fa-download"></i>
                                            T√©l√©charger
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    `;
                    break;
                    
                case 'settings':
                    content.innerHTML = `
                        <div style="padding: 2rem;">
                            <h3 style="margin-bottom: 1.5rem; color: var(--text-dark);">Param√®tres</h3>
                            <div style="display: grid; gap: 1.5rem;">
                                <div>
                                    <h4 style="margin-bottom: 0.5rem; color: var(--text-dark);">Informations personnelles</h4>
                                    <input type="text" value="${AppState.user.name}" style="width: 100%; padding: 0.75rem; border: 1px solid var(--border); border-radius: var(--radius); margin-bottom: 1rem;">
                                    <input type="email" value="${AppState.user.email}" style="width: 100%; padding: 0.75rem; border: 1px solid var(--border); border-radius: var(--radius);">
                                </div>
                                <button class="btn btn-primary">Enregistrer les modifications</button>
                            </div>
                        </div>
                    `;
                    break;
                    
                default: // overview
                    content.innerHTML = `
                        <div>
                            <div class="stats-grid">
                                <div class="stat-card card">
                                    <div class="stat-value" id="dashboardDownloads">${AppState.user.downloads}</div>
                                    <div class="stat-label">Ebooks Achet√©s</div>
                                </div>
                                <div class="stat-card card">
                                    <div class="stat-value" id="dashboardPoints">${AppState.user.points.toLocaleString()}</div>
                                    <div class="stat-label">Points Fid√©lit√©</div>
                                </div>
                                <div class="stat-card card">
                                    <div class="stat-value" id="dashboardStreak">${AppState.user.streak}</div>
                                    <div class="stat-label">Jours de Suite</div>
                                </div>
                                <div class="stat-card card">
                                    <div class="stat-value" id="dashboardGoals">${AppState.user.goals}%</div>
                                    <div class="stat-label">Objectifs Atteints</div>
                                </div>
                            </div>
                            
                            <div class="chart-container card">
                                <h3 style="margin-bottom: 1rem; color: var(--text-dark);">Progression du Poids</h3>
                                <div id="weightChart" style="height: 250px; display: flex; align-items: flex-end; gap: 1rem; padding: 1rem 0;"></div>
                            </div>
                            
                            <div class="goals-grid" id="goalsGrid"></div>
                        </div>
                    `;
                    renderWeightChart();
                    renderGoals();
                    break;
            }
        }

        // ===== MISE √Ä JOUR DES STATISTIQUES =====
        function updateUserStats() {
            // Points de fid√©lit√©
            document.getElementById('loyaltyPoints').textContent = AppState.user.points.toLocaleString();
            document.getElementById('dashboardPoints').textContent = AppState.user.points.toLocaleString();
            document.getElementById('pointsEarned').textContent = AppState.user.points.toLocaleString();
            
            // Parrainage
            document.getElementById('referralCount').textContent = AppState.user.referrals;
            document.getElementById('referralEarnings').textContent = (AppState.user.referrals * 500).toLocaleString();
            document.getElementById('referralRewards').textContent = `‚Ç¨${(AppState.user.referrals * 12.14).toFixed(0)}`;
            
            // Tableau de bord
            document.getElementById('dashboardStreak').textContent = AppState.user.streak;
            document.getElementById('dashboardGoals').textContent = `${AppState.user.goals}%`;
            document.getElementById('dashboardDownloads').textContent = AppState.user.downloads;
            
            // Sauvegarder dans localStorage
            localStorage.setItem('userStats', JSON.stringify(AppState.user));
        }

        function updateStatsAfterPurchase() {
            // Incr√©menter les t√©l√©chargements
            const downloadCount = document.getElementById('downloadCount');
            let count = parseInt(downloadCount.textContent.replace(/,/g, ''));
            count++;
            downloadCount.textContent = count.toLocaleString();
            
            // Ajouter des points
            AppState.user.points += 1000;
            AppState.user.downloads++;
            updateUserStats();
            
            // Mettre √† jour les clients satisfaits
            const happyCustomers = document.getElementById('happyCustomers');
            let customers = parseInt(happyCustomers.textContent.replace(/,/g, ''));
            customers = Math.floor(customers * 1.01);
            happyCustomers.textContent = customers.toLocaleString();
            
            showToast('Achat r√©ussi ! Vous avez gagn√© 1000 points de fid√©lit√©.', 'success');
        }

        // ===== GESTION DU PANIER =====
        function initCart() {
            const cartBtn = document.getElementById('cartBtn');
            const buyNowBtn = document.getElementById('buyNowBtn');
            const addToCartBtn = document.getElementById('addToCartBtn');
            const cartCount = document.getElementById('cartCount');
            
            window.addToCart = function(productId) {
                const existingItem = AppState.cart.find(item => item.id === productId);
                
                if (existingItem) {
                    existingItem.quantity++;
                } else {
                    AppState.cart.push({
                        id: productId,
                        name: productId === 0 ? 'Guide Complet Perte de Poids' : 'Ebook Bonus',
                        price: productId === 0 ? calculateTotal() : 9.99,
                        quantity: 1
                    });
                }
                
                updateCart();
                showToast('Produit ajout√© au panier', 'success');
            };
            
            function updateCart() {
                const count = AppState.cart.reduce((sum, item) => sum + item.quantity, 0);
                cartCount.textContent = count;
                cartCount.style.display = count > 0 ? 'flex' : 'none';
                localStorage.setItem('cart', JSON.stringify(AppState.cart));
            }
            
            buyNowBtn.addEventListener('click', function() {
                addToCart(0);
                setTimeout(() => {
                    openPayPalModal();
                }, 500);
            });
            
            addToCartBtn.addEventListener('click', function() {
                addToCart(0);
            });
            
            cartBtn.addEventListener('click', function() {
                if (AppState.cart.length > 0) {
                    openPayPalModal();
                } else {
                    showToast('Votre panier est vide', 'info');
                }
            });
            
            // Charger le panier depuis localStorage
            const savedCart = localStorage.getItem('cart');
            if (savedCart) {
                AppState.cart = JSON.parse(savedCart);
                updateCart();
            }
        }

        // ===== MODAL PAYPAL =====
        let paypalButtonsRendered = false;

        function initPayPal() {
            if (!paypalButtonsRendered) {
                paypal.Buttons({
                    createOrder: function(data, actions) {
                        const total = calculateTotal();
                        return actions.order.create({
                            purchase_units: [{
                                amount: {
                                    value: total.toFixed(2),
                                    currency_code: 'EUR'
                                },
                                description: 'Guide Complet Perte de Poids - EbookSant√©'
                            }]
                        });
                    },
                    onApprove: function(data, actions) {
                        return actions.order.capture().then(function(details) {
                            handlePayPalSuccess(details);
                        });
                    },
                    onError: function(err) {
                        showToast('Erreur lors du paiement PayPal: ' + err.message, 'error');
                    }
                }).render('#paypal-button-container');
                
                paypalButtonsRendered = true;
            }
        }

        function handlePayPalSuccess(details) {
            document.getElementById('paypalCheckout').style.display = 'none';
            document.getElementById('paypalConfirmation').style.display = 'block';
            
            document.getElementById('transactionId').textContent = details.id || 'PAYPAL-' + Math.random().toString(36).substr(2, 9).toUpperCase();
            document.getElementById('transactionAmount').textContent = `‚Ç¨${calculateTotal().toFixed(2)}`;
            
            updateStatsAfterPurchase();
            
            // Vider le panier
            AppState.cart = [];
            updateCart();
            
            showToast('Paiement PayPal r√©ussi ! Votre ebook est pr√™t.', 'success');
        }

        function openPayPalModal() {
            const modal = document.getElementById('paypalModal');
            modal.classList.add('active');
            document.body.style.overflow = 'hidden';
            
            updatePayPalDisplay();
            
            setTimeout(() => {
                initPayPal();
            }, 100);
        }

        function closePayPalModal() {
            const modal = document.getElementById('paypalModal');
            modal.classList.remove('active');
            document.body.style.overflow = 'auto';
            
            // R√©initialiser pour le prochain paiement
            document.getElementById('paypalCheckout').style.display = 'block';
            document.getElementById('paypalConfirmation').style.display = 'none';
        }

        // ===== TH√àME SOMBRE/CLAIR =====
        function initThemeToggle() {
            const themeToggle = document.getElementById('themeToggle');
            const isDarkMode = localStorage.getItem('darkMode') === 'true';
            
            if (isDarkMode) {
                document.body.classList.add('dark-mode');
                themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
            }
            
            themeToggle.addEventListener('click', function() {
                document.body.classList.toggle('dark-mode');
                const isDark = document.body.classList.contains('dark-mode');
                
                themeToggle.innerHTML = isDark ? 
                    '<i class="fas fa-sun"></i>' : 
                    '<i class="fas fa-moon"></i>';
                
                localStorage.setItem('darkMode', isDark);
            });
        }

        // ===== INITIALISATION =====
        document.addEventListener('DOMContentLoaded', function() {
            // Initialiser tous les modules
            initThemeToggle();
            initQuiz();
            initCoupons();
            initCalendar();
            initReferralSystem();
            initLoyaltyProgram();
            initNotifications();
            initCart();
            initDashboard();
            
            // Charger les statistiques utilisateur depuis localStorage
            const savedStats = localStorage.getItem('userStats');
            if (savedStats) {
                AppState.user = { ...AppState.user, ...JSON.parse(savedStats) };
            }
            
            updateUserStats();
            updateDisplayPrice();
            
            // Configurer PayPal
            document.getElementById('closePaypalModal').addEventListener('click', closePayPalModal);
            document.getElementById('downloadAfterPaypalBtn').addEventListener('click', function() {
                showToast('T√©l√©chargement de l\'ebook commenc√©...', 'success');
                setTimeout(() => {
                    closePayPalModal();
                    // Redirection vers la page de t√©l√©chargement (simul√©e)
                    window.open('#', '_blank');
                }, 2000);
            });
            
            // Gestion du menu mobile
            document.getElementById('mobileMenuBtn').addEventListener('click', function() {
                const navLinks = document.getElementById('navLinks');
                navLinks.classList.toggle('active');
                this.innerHTML = navLinks.classList.contains('active') ? 
                    '<i class="fas fa-times"></i>' : 
                    '<i class="fas fa-bars"></i>';
            });
            
            // Smooth scroll
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function(e) {
                    const targetId = this.getAttribute('href');
                    if (targetId === '#') return;
                    
                    const targetElement = document.querySelector(targetId);
                    if (targetElement) {
                        e.preventDefault();
                        targetElement.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                        
                        // Mettre √† jour la navigation active
                        document.querySelectorAll('.nav-link').forEach(link => {
                            link.classList.remove('active');
                        });
                        this.classList.add('active');
                        
                        // Fermer le menu mobile
                        if (window.innerWidth <= 768) {
                            document.getElementById('navLinks').classList.remove('active');
                            document.getElementById('mobileMenuBtn').innerHTML = '<i class="fas fa-bars"></i>';
                        }
                    }
                });
            });
            
            // Compte √† rebours
            function updateCountdown() {
                const endTime = new Date();
                endTime.setHours(endTime.getHours() + 24);
                
                const now = new Date();
                const timeLeft = endTime - now;
                
                if (timeLeft <= 0) {
                    document.getElementById('countdown-timer').innerHTML = '<span>Promotion termin√©e !</span>';
                    return;
                }
                
                const hours = Math.floor((timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((timeLeft % (1000 * 60)) / 1000);
                
                document.getElementById('countdown-timer').innerHTML = `
                    <div class="countdown">
                        <div class="countdown-item">
                            <div class="countdown-value">${hours.toString().padStart(2, '0')}</div>
                            <div class="countdown-label">Heures</div>
                        </div>
                        <div class="countdown-item">
                            <div class="countdown-value">${minutes.toString().padStart(2, '0')}</div>
                            <div class="countdown-label">Minutes</div>
                        </div>
                        <div class="countdown-item">
                            <div class="countdown-value">${seconds.toString().padStart(2, '0')}</div>
                            <div class="countdown-label">Secondes</div>
                        </div>
                    </div>
                `;
            }
            
            setInterval(updateCountdown, 1000);
            updateCountdown();
            
            // Statistiques en direct
            function updateLiveStats() {
                const onlineUsers = Math.floor(Math.random() * 100) + 200;
                const todayVisits = Math.floor(Math.random() * 500) + 1000;
                
                document.getElementById('liveStats').textContent = 
                    `En ligne: ${onlineUsers} | Aujourd'hui: ${todayVisits.toLocaleString()} visites | Paiements s√©curis√©s avec PayPal`;
            }
            
            setInterval(updateLiveStats, 30000);
            updateLiveStats();
            
            // Bouton de connexion
            document.getElementById('loginBtn').addEventListener('click', function() {
                showToast('Fonctionnalit√© de connexion en d√©veloppement', 'info');
            });
            
            // Avatar utilisateur
            document.getElementById('userAvatar').addEventListener('click', function() {
                loadDashboardSection('overview');
                document.querySelector('a[href="#dashboard"]').click();
            });
            
            // Observer pour les animations
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                    }
                });
            }, { threshold: 0.1 });
            
            document.querySelectorAll('.card').forEach(card => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(20px)';
                card.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
                observer.observe(card);
            });
            
            console.log('Application initialis√©e avec succ√®s !');
        });
    </script>
</body>
</html>